<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Exploratory Data Analysis</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<div class="container-fluid main-container">

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->





<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Data Science Final Project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="edaws.html">About Me</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Exploratory Data Analysis</h1>

</div>


<div id="initial-plots" class="section level4">
<h4>Initial Plots</h4>
<p>The first task we had was to plot a lot of drawings all at once. Looking at drawings individually would have been very time consuming. We chose to overlay 500 drawings on top of one another of each type to get a sense of the variability of shapes for each drawing. Here are the plots for apples, mushrooms, and bread:</p>
<div id="figure-1-500-drawings-of-apples-mushrooms-and-bread" class="section level5">
<h5>Figure 1: 500 Drawings of Apples, Mushrooms, and Bread</h5>
<p><img src="../plots/Apple2.png" width="300" height="300" /><img src="../plots/Mushroom2.png" width="300" height="300" /><img src="../plots/Bread2.png" width="300" height="300" /> Even though we have plotted a ridiculous amount of images on top of one another, we can still see the underlying common object that inspired each class of drawings.</p>
<p>We asked the question: what if we didn’t connect the lines for each drawing? Since each drawing consists of a number of points connected in a path, we could just ignore how the points are connected and focus on the location of the points.</p>
</div>
<div id="figure-2-500-densities-of-apples-mushrooms-and-bread" class="section level5">
<h5>Figure 2: 500 Densities of Apples, Mushrooms, and Bread</h5>
<p><img src="../plots/Apple.png" width="300" height="300" /><img src="../plots/Mushroom.png" width="300" height="300" /><img src="../plots/Bread.png" width="300" height="300" /></p>
<p>The images certainly become more difficult to recognize, but there is still a barely recognizeable shape there. This motivates our first approach: using the class distribution of the points to empirically construct a kernel that could help us classify the images.</p>
</div>
</div>
<div id="summarizing-food-classes-via-empirical-kernels" class="section level4">
<h4>Summarizing Food Classes via Empirical Kernels</h4>
<p>We create a kernel by smoothing over the empirical distribution of the points for each image class. We used kernel smoothing with a package called “ks” to go from the sample densities to a smoothed kernel.</p>
<div id="figure-3-smoothed-class-kernels" class="section level5">
<h5>Figure 3: Smoothed Class Kernels</h5>
<p><img src="../Algorithms/MLE1_Kernels.png" width="1200" height="1500" /></p>
<p>We can still recognize some of the image classes from the kernels, however, for others we can’t. We went back to the data and realized there might be a number of ways that each class can be drawn. Let’s look at the watermelon, bananas, and peanuts.</p>
</div>
<div id="figure-4-500-drawings-of-watermelons-bananas-and-peanuts" class="section level5">
<h5>Figure 4: 500 Drawings of Watermelons, Bananas, and Peanuts</h5>
<p><img src="../plots/Watermelon2.png" width="300" height="300" /><img src="../plots/Banana2.png" width="300" height="300" /><img src="../plots/Peanut2.png" width="300" height="300" /></p>
<p>It is very clear that people tended to draw two types of peanuts: a sideways peanut or a vertical peanut. Additionally, some people drew a half slice of watermelon while others drew a whole watermelon. If we look very carefully, we can see that people draw bananas in many orientations.</p>
<p>For the watermelons, we can think of the variations as sub-classes. If we can somehow separate the watermelon class of drawings into sub-classes (whole, half, wedge), and estimate a kernel for each subclass separately, our prediction algorithm might improve.</p>
<p>For bananas and peanuts, we can think of the variations in drawings being due to rotation. If we can find a way to rotate training and test data prior to kernel estimation and prediction (respectively), our algorithm may also improve.</p>
</div>
</div>
<div id="rotating-data-to-a-standard-orientation" class="section level4">
<h4>Rotating Data to a Standard Orientation</h4>
<p>A source of variation in the images is how the artist chose to orient their drawing. For some drawings, such as the apple, doodlers uniformly choose to place their apple upright. However, there was a lot of varaition in how artists chose to draw bananas (as seen above).</p>
<p>We chose to rotate the images using a principal components (PC) rotation. We standardized the images so that the longest dimension of the image would go in the <span class="math inline">\(y\)</span> direction. We then rescaled and shifted the images so that they would fit in the left-most part of the frame. The PC-rotated kernels and the original kernels are plotted below.</p>
<div id="figure-5-smoothed-class-kernels-with-right-and-without-left-pc-rotations" class="section level5">
<h5>Figure 5: Smoothed Class Kernels with (Right) and without (Left) PC Rotations</h5>
<p><img src="../Algorithms/MLE1_Kernels.png" width="400" height="600" /><img src="../Algorithms/MLE1_Kernels_Rotated.png" width="400" height="600" /></p>
<p>If we compare the empirical kernels before and after rotating, we see rotated kernels are more recognizeable for some food classes, but less so for others–the asparagus has a defined stalk, the banana has a defined crescent shape, the carrot has pointy ends, the potato is an oval shape, the string bean is long and narrow, the peanuts are all standing up, and the watermelon has a crescent on one side.</p>
<p>In contrast, with pre-rotation, the kernels of other food classes become more indistinct or even look like other foods. The broccoli mass at the top of the frame disappears, the lollipop looks almost like a peanut, the mushroom looks like a doughnut, and the pineapple and strawberry lose their characteristic foliage at the top.</p>
<p>The rotation seems to benefit food classes that are long and symmetrical in their longest direction (bananas and string beans), muddle food classes that are long and assymmetrical in their longest direction (pineapple and lollipops), and have little effect on rounder objects (doughnuts and cookies).</p>
<p>Moving forward, we will likely only use the pre-rotated kernels for the food classes that look good: string bean, potato, peanut, carrot, banana, asparagus, watermelon, hotdog.</p>
</div>
</div>
<div id="determining-food-sub-classes" class="section level4">
<h4>Determining Food Sub-Classes</h4>
<p>From earlier exploratory data analysis, it became clear that certain food classes might be drawn in qualitatively different ways. Pizzas and watermelons might be drawn as a slice or a whole pie. Bread might be a loaf or a square.</p>
<p>One way we might think of separating each class into sub-classes is by a clustering approach. But what features might we use to cluster? We chose to do the clustering by measuring where each image hits the side of the 256 x 256 frame. We know that the images were preprocessed in such a way that each image hits both the top and left side of the frame as well as the bottom or the right sides. Whether and where the image hits each side of the frame might tell us what sub-class the image falls into.</p>
<p>We can plot the multivariate distributions of the side-hit locations for each food class and visually scan for clustering patterns. We see the clustering patterns in watermelons, bananas, and peanuts below:</p>
<div id="figure-5-side-hit-patterns-for-watermelons-left-bananas-center-and-peanuts-right" class="section level5">
<h5>Figure 5: Side-Hit Patterns for Watermelons (left), Bananas (center), and Peanuts (right)</h5>
<p><img src="../plots/watermelon_cluster.png" width="300" height="300" /><img src="../plots/banana_cluster.png" width="300" height="300" /><img src="../plots/peanut_cluster.png" width="300" height="300" /></p>
<p>If we look at the 500 watermelon sketches, we see that the half-circle watermelons tend to hit the right and left sides of the image at the very top, and they also tend not to hit the bottom of the image. On the other hand, the round watermelons tend to hit every side directly in the center. Hence, we see a clustering pattern in the distribution of where the watermelon images hit the side of the frame.</p>
</div>
<div id="figure-6-side-hit-patterns-for-apples-left-mushroom-center-and-bread-right" class="section level5">
<h5>Figure 6: Side-Hit Patterns for Apples (left), Mushroom (center), and Bread (right)</h5>
<p><img src="../plots/apple_cluster.png" width="300" height="300" /><img src="../plots/mushroom_cluster.png" width="300" height="300" /><img src="../plots/bread_cluster.png" width="300" height="300" /></p>
<p>In contrast, there is no obvious clustering structure in the side-hit patterns for some of the food-classes with a recognizable empirical kernel. We see above that apples tend to hit every side in the middle. For mushrooms, it seems that where the mushroom hits the left side of the frame is correlated with where the mushroom hits the right side of the frame.</p>
<p>If we scan all of the scatter matricies, we can see a clustering pattern in:</p>
<ol style="list-style-type: decimal">
<li><p>Watermelon (3)</p></li>
<li><p>Stringbean (2)</p></li>
<li><p>Popsicle (2)</p></li>
<li><p>Pizza (3)</p></li>
<li><p>Pineapple (2)</p></li>
<li><p>Peanut (2-3)</p></li>
<li><p>Lollipop (2)</p></li>
<li><p>Carrot (2)</p></li>
<li><p>Banana (2)</p></li>
<li><p>Asparagus (2)</p></li>
</ol>
</div>
</div>
<div id="section" class="section level1">
<h1></h1>
<div id="figure" class="section level5">
<h5>Figure …</h5>
<p><img src="../Algorithms/Kernel_Correlation_Mat.png" width="1200" height="1500" /></p>
</div>
<div id="figure-1" class="section level5">
<h5>Figure …</h5>
<p><img src="../Algorithms/Kernel_Dendogram.png" width="1200" height="1500" /></p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
